---
title: 【Android系统源代码分析】第二章 源码结构和SDK解析
date: 2016-01-26 12:00:00
categories:
  - 技术篇
tags:
  - 读书笔记
  - Android
---

## 一、系统服务
<p class="paragraph">Android涉及的服务非常多，包括界面、网络、电话等核心模块，基本上都有其专属的服务。这些服务属于系统级别的服务。一般都会在Android系统启动时加载，在系统关闭时结束，受系统管理。应用程序并没有权限去打开或者关闭，它们会随着系统的运行一直在后台运行，供应用程序和其他的组件来使用。</p>

* audioflinger——音频管路服务
* camera——相机的管理服务

## 二、系统程序库
1. 系统C库。Android系统采用的是一个从BSD继承而来的标准的系统函数库bionic。
2. 媒体库。Android的媒体库在android2.3之前是由Stagefright实现的，Android2.3之后Stagefright被替换了，OpenCore成为新的多媒体实现库。同时Android也自带了一些音视频的管理库莱管理多媒体的录制，包括播放、编码、、解码等功能。
3. 图层显示库。主要负责对显示子系统的管理，负责图层的渲染、叠加、绘制等功能，提供了2D、3D图层的无缝融合，先整个Android系统显示的“大脑中枢”。
4. 网络引擎库。只要是用来实现web浏览器的引擎，支持Android的web浏览器和一个可嵌入的web视图，是采用第三方开发的浏览器引擎webkit实现的。
5. 3D图形库。Android中的3D图形渲染时采用Opengl来实现的，Opengl是开源的第三方图形渲染库，使用该库可以实现Android中的3D图形硬件加速或者3D图形软件加速功能。Opengl是一个非常重要概念库。
6. SQLite。是Android系统自带的一个轻量级关系数据库，其实现源代码已经在网上开源。SQLite具有操作简单方便，运行速度加快，占用资源较少的特点，比较适合在嵌入式设备中使用，是Android系统自带的实现数据库功能的核心库，其代码实现分为Java和C两部分。

## 三、源码中提供的接口

<p class="paragraph">可以从源码中自己编译生成一个SDK，其功能作用等同于从官方网站单独下载的SDK开发包。这说明源码中有SDK的实现代码，不仅可以提供与独立SDK相同的API接口，而且会有一些SDK开发包中不具备的API接口。当然这部分接口在基于SDK开发时是看不见的，只有在基于源码开发或者往单独SDK中“增加”隐藏接口是才能调用。</p>
<p class="paragraph">源码中，有一些函数在声明时加上了@hide字样，说明这些接口因为不稳定或者其他方面的原因暂时被Google隐藏了，不能通过SDK进行访问，可能会在以后的版本中开放。</p>